-- Drop existing table if it exists
DROP TABLE IF EXISTS destinations CASCADE;

-- Create destinations table with all columns
CREATE TABLE destinations (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  location VARCHAR(255) NOT NULL,
  description TEXT NOT NULL,
  image_url VARCHAR(500) NOT NULL,
  difficulty VARCHAR(50) NOT NULL CHECK (difficulty IN ('Easy', 'Moderate', 'Challenging')),
  duration_min INTEGER NOT NULL,
  duration_max INTEGER NOT NULL,
  altitude VARCHAR(50) NOT NULL,
  rating DECIMAL(3,1) NOT NULL,
  reviews_count INTEGER DEFAULT 0,
  carbon_score INTEGER NOT NULL,
  carbon_footprint VARCHAR(20) NOT NULL CHECK (carbon_footprint IN ('low', 'medium', 'high')),
  eco_score INTEGER NOT NULL,
  cost_budget INTEGER NOT NULL,
  cost_medium INTEGER NOT NULL,
  cost_luxury INTEGER NOT NULL,
  is_hidden_gem BOOLEAN DEFAULT false,
  group_friendly BOOLEAN DEFAULT true,
  children_friendly BOOLEAN DEFAULT true,
  elderly_friendly BOOLEAN DEFAULT true,
  accessibility_notes TEXT,
  vibes TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Insert all 22 destinations
INSERT INTO destinations (
  name, location, description, image_url, difficulty, 
  duration_min, duration_max, altitude, rating, reviews_count,
  carbon_score, carbon_footprint, eco_score,
  cost_budget, cost_medium, cost_luxury,
  is_hidden_gem, group_friendly, children_friendly, elderly_friendly,
  accessibility_notes, vibes
) VALUES
(
  'Kathmandu Valley Heritage Tour',
  'Kathmandu',
  'Explore the vibrant capital with ancient temples, bustling bazaars, and cultural experiences.',
  'https://images.unsplash.com/photo-1585409677983-0f6c41ca9c3b?w=800',
  'Easy',
  2, 4, '1345m',
  4.6, 450,
  40, 'low', 65,
  300, 600, 1200,
  false, true, true, true,
  'Good infrastructure in city center, stairs at temples',
  '["Cultural"]'
),
(
  'Pokhara Lake & Mountain Views',
  'Pokhara',
  'Serene lakeside town with stunning Annapurna views, adventure sports, and relaxation.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Easy',
  3, 5, '822m',
  4.7, 520,
  35, 'low', 72,
  400, 800, 1500,
  false, true, true, true,
  'Lakeside paths are accessible, some lakeside hotels have steps',
  '["Peaceful", "Adventure"]'
),
(
  'Langtang Valley Trek',
  'Langtang National Park',
  'Pristine high-altitude valley with yak herds, monasteries, and eco-lodges.',
  'https://images.unsplash.com/photo-1544735716-392fe2489ffa?w=800',
  'Moderate',
  7, 10, '3870m',
  4.8, 380,
  45, 'low', 82,
  700, 1000, 1600,
  true, true, false, false,
  'High altitude trek, not suitable for reduced mobility',
  '["Peaceful", "Cultural"]'
),
(
  'Chitwan National Park Safari',
  'Chitwan',
  'Wildlife sanctuary for tigers, rhinos, elephants, and diverse bird species.',
  'https://images.unsplash.com/photo-1500595046891-ec534ef0d8e6?w=800',
  'Easy',
  2, 4, '300m',
  4.5, 290,
  60, 'medium', 78,
  400, 800, 1800,
  false, true, true, true,
  'Jeep safari accessible, lodge accommodations available',
  '["Wildlife", "Adventure"]'
),
(
  'Phewa Lake Light Walk',
  'Pokhara',
  'Easy lakeside walks with mountain views, perfect for families and seniors.',
  'https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=800',
  'Easy',
  1, 2, '822m',
  4.4, 620,
  30, 'low', 85,
  150, 300, 500,
  false, true, true, true,
  'Fully accessible lakeside paths, easy terrain',
  '["Peaceful"]'
),
(
  'Khopra Ridge Trek',
  'Annapurna Region',
  'Hidden gem trek with rhododendron forests, alpine meadows, and stunning views.',
  'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=800',
  'Moderate',
  6, 8, '3660m',
  4.7, 260,
  50, 'low', 88,
  600, 900, 1400,
  true, true, false, false,
  'Remote mountain trek, challenging terrain',
  '["Peaceful", "Wildlife"]'
),
(
  'Everest Base Camp Trek',
  'Solukhumbu District',
  'The ultimate high-altitude trek to the base camp of the world\'s highest peak.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Challenging',
  12, 16, '5364m',
  4.9, 890,
  55, 'medium', 75,
  1200, 1800, 2800,
  false, true, false, false,
  'High altitude, acclimatization required',
  '["Adventure"]'
),
(
  'Annapurna Base Camp Trek',
  'Annapurna Conservation Area',
  'Epic trek with breathtaking mountain views and diverse ecosystems.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Moderate',
  10, 14, '4130m',
  4.8, 720,
  48, 'low', 80,
  900, 1400, 2200,
  false, true, false, false,
  'Well-maintained trails, teahouse accommodations',
  '["Adventure", "Peaceful"]'
),
(
  'Manaslu Circuit Trek',
  'Gorkha District',
  'Remote and less crowded trek around the 8th highest mountain in the world.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Challenging',
  16, 20, '5160m',
  4.7, 340,
  52, 'low', 82,
  1000, 1600, 2400,
  true, false, false, false,
  'Remote, requires permits and guides',
  '["Adventure", "Cultural"]'
),
(
  'Dhaulagiri Circuit',
  'Baglung District',
  'Spectacular trek around the 6th highest mountain with pristine wilderness.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Challenging',
  20, 25, '5200m',
  4.6, 280,
  55, 'low', 85,
  1100, 1700, 2600,
  true, false, false, false,
  'Very remote, experienced trekkers only',
  '["Adventure"]'
),
(
  'Makalu Base Camp Trek',
  'Sankhuwasabha District',
  'Adventurous trek to the base of the 5th highest mountain with pristine nature.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Challenging',
  14, 18, '4880m',
  4.5, 210,
  54, 'low', 84,
  1000, 1500, 2300,
  true, false, false, false,
  'Remote location, limited facilities',
  '["Adventure"]'
),
(
  'Milun Lakes Trek',
  'Tsum Valley',
  'Off-the-beaten-path trek through hidden valleys and glacial lakes.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Moderate',
  8, 12, '4100m',
  4.6, 190,
  46, 'low', 86,
  750, 1200, 1900,
  true, true, false, false,
  'Less crowded, teahouse lodges available',
  '["Peaceful", "Adventure"]'
),
(
  'Gokyo Lakes Trek',
  'Solukhumbu District',
  'Trek to stunning turquoise glacial lakes with views of Everest and Cholatse.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Moderate',
  10, 13, '4790m',
  4.7, 420,
  48, 'low', 81,
  900, 1350, 2100,
  false, true, false, false,
  'High altitude, acclimatization necessary',
  '["Adventure", "Peaceful"]'
),
(
  'Rara Lake Trek',
  'Mugu District',
  'Remote trek to Nepal\'s largest lake surrounded by pristine wilderness.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Moderate',
  9, 11, '2990m',
  4.5, 150,
  42, 'low', 87,
  700, 1100, 1700,
  true, true, false, false,
  'Very remote, basic accommodations',
  '["Peaceful"]'
),
(
  'Panch Pokhari Trek',
  'Sindhupalchok District',
  'Sacred high-altitude lakes trek through untouched forests and meadows.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Moderate',
  7, 9, '4100m',
  4.4, 140,
  43, 'low', 88,
  600, 950, 1500,
  true, true, false, false,
  'Less popular, pristine nature',
  '["Cultural", "Adventure"]'
),
(
  'Trekking to Gosaikunda Lake',
  'Rasuwa District',
  'Sacred pilgrimage trek to high-altitude glacial lake sacred to Hindus.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Moderate',
  5, 7, '4380m',
  4.5, 280,
  44, 'low', 83,
  550, 900, 1400,
  false, true, false, false,
  'Popular pilgrimage site, crowded seasons',
  '["Cultural", "Peaceful"]'
),
(
  'Baglung Parbat Trek',
  'Baglung District',
  'Hidden gem trek with panoramic mountain views and traditional villages.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Moderate',
  6, 8, '3500m',
  4.3, 120,
  41, 'low', 80,
  500, 800, 1300,
  true, true, true, false,
  'Very off-the-beaten path, few services',
  '["Cultural"]'
),
(
  'Tamang Heritage Trail',
  'Kathmandu & Sindhupalchok',
  'Cultural trek through Tamang villages with homestay experiences.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Easy',
  6, 7, '2300m',
  4.4, 320,
  32, 'low', 82,
  400, 700, 1200,
  false, true, true, true,
  'Homestay accommodations, cultural immersion',
  '["Cultural"]'
),
(
  'Kanyam & Dhulikhel Heritage Trek',
  'Kavre District',
  'Easy walk through traditional villages showcasing Newar culture.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Easy',
  3, 4, '1600m',
  4.2, 180,
  28, 'low', 85,
  300, 550, 900,
  false, true, true, true,
  'Close to Kathmandu, cultural sites',
  '["Cultural"]'
),
(
  'Upper Dolpo Trek',
  'Dolpa District',
  'Ultra-remote trek in the Himalayas with pristine wilderness and Tibetan culture.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Challenging',
  18, 22, '5100m',
  4.8, 95,
  57, 'low', 89,
  1300, 1900, 2800,
  true, false, false, false,
  'Extremely remote, guides mandatory',
  '["Adventure", "Cultural"]'
),
(
  'Rolwaling Valley Trek',
  'Dolakha District',
  'Adventure trek through valleys with dramatic Himalayan peaks.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Moderate',
  8, 10, '4680m',
  4.6, 190,
  49, 'low', 81,
  800, 1300, 2000,
  true, true, false, false,
  'Less crowded, beautiful scenery',
  '["Adventure"]'
),
(
  'Jomolhari Trek',
  'Paro District (Bhutan Border)',
  'Adventure trek combining Nepal and Bhutan with pristine mountain views.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Challenging',
  11, 14, '4890m',
  4.7, 175,
  53, 'low', 83,
  1100, 1700, 2500,
  true, false, false, false,
  'Cross-border trek, permits required',
  '["Adventure"]'
),
(
  'Kangchenjunga Trek',
  'Ilam District',
  'Remote trek around the 3rd highest mountain with pristine forests.',
  'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
  'Challenging',
  19, 23, '5400m',
  4.8, 210,
  56, 'low', 84,
  1400, 2000, 3000,
  true, false, false, false,
  'Very remote, experienced trekkers only',
  '["Adventure", "Wildlife"]'
);

-- Create index for better query performance
CREATE INDEX idx_destinations_difficulty ON destinations(difficulty);
CREATE INDEX idx_destinations_rating ON destinations(rating);
CREATE INDEX idx_destinations_is_hidden_gem ON destinations(is_hidden_gem);

-- Verify data was inserted
SELECT COUNT(*) as total_destinations FROM destinations;
